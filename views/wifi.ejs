<%var searching=false; %>
    <%var menu="wifi" %>
        <%- include('header.ejs',{menu:menu}) %>
            <div class="h-75 w-100 row justify-content-between my-4">
                <div class="col-sm-3 bg-light shadow rounded justify-content-between">
                    <a class="dropdown-item active" href="#">Scan</a>
                    <a class="dropdown-item" href="#">Profiles</a>
                    <a class="dropdown-item" href="#">Advanced</a>
                    <div class="dropdown-divider"></div>
                    <table class="table table-striped table-sm">
                        <tbody>
                            <tr>
                                <th scope="row">
                                    <p class="text-right">Status</p>
                                </th>
                                <td>Connected</td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <p class="text-right">SSID</p>
                                </th>
                                <td>MAScIR-GUEST</td>

                            </tr>
                            <tr>
                                <th scope="row">
                                    <p class="text-right">Channel</p>
                                </th>
                                <td>6</td>

                            </tr>
                            <tr>
                                <th scope="row">
                                    <p class="text-right">Bit Rate</p>
                                </th>
                                <td>54 Mbps</td>

                            </tr>
                            <tr>
                                <th scope="row">
                                    <p class="text-right">Client IP</p>
                                </th>
                                <td>192.168.1.51</td>

                            </tr>
                        </tbody>
                    </table>
                    <div class="m-4">
                        <div class="alert alert-success" role="alert">
                            RSSI -50 dBm
                        </div>
                        <button type="button" class="btn btn-danger align-bottom">Disable Wi-Fi</button>

                    </div>

                </div>
                <script src="/js/wifi.js"></script>
                <script src="/js/Client.js"></script>

                <div class="col-sm">
                    <div class="card" id="card">
                        <div class="card-header">
                            Access Point Scan
                        </div>

                        <div class="card-body" id="card-body">

                            <div class="row pl-3" id="btn">
                                <a onclick="changeState(true)" class="btn btn-primary w-25 text-white">Scan</a>

                            </div>

                            <div id="table">
                                <!-- <%var wifiData=[{ ssid: "1" , bssid: "Mark" , channel: "Otto" , rssi: "mdo" ,
                                    security: "mdo" }, { ssid: "2" , bssid: "Jacob" , channel: "Thornton" , rssi: "mdo"
                                    , security: "mdo" }, { ssid: "3" , bssid: "Larry the Bird" , channel: "mdo" ,
                                    rssi: "mdo" , security: "twitter" }];%>

                                    <div class="card shadow p-3 my-4 border rounded">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th scope="col">SSID</th>
                                                    <th scope="col">BSSID</th>
                                                    <th scope="col">Channel</th>
                                                    <th scope="col">RSSI</th>
                                                    <th scope="col">Security</th>
                                                </tr>
                                            </thead>

                                            <tbody>
                                                <% wifiData.forEach(function(wifi) { %>

                                                    <tr>
                                                        <th scope=" row">

                                                            <%=wifi.ssid%>

                                                        </th>
                                                        <td>
                                                            <%=wifi.bssid%>
                                                        </td>
                                                        <td>
                                                            <%=wifi.channel%>
                                                        </td>
                                                        <td>@
                                                            <%=wifi.rssi%>
                                                        </td>
                                                        <td>@
                                                            <%=wifi.security%>
                                                        </td>
                                                        <td>
                                                            <a onclick="showWifiModal('<%=wifi.ssid%>','<%=wifi.security%>')" class="btn btn-outline-primary text-primary">Se
                                                                connecter</a>
                                                        </td>
                                                    </tr>

                                                    <% }); %>
                                            </tbody>

                                        </table>
                                    </div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="wifiModal" tabindex="-1" role="dialog" aria-labelledby="wifiModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Wi-Fi Profile:</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="form">
                                <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">Profile Name:</label>
                                    <div class="border-left border-success border-5 rounded">
                                        <input name="profile" type="text" class="form-control " readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">SSID:</label>
                                    <div class="border-left border-success border-5 rounded">
                                        <input name="ssid" type="text" class="form-control" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">Security:</label>
                                    <div class="border-left border-success border-5 rounded">
                                        <input name="security" type="text" class="form-control" readonly>
                                    </div>
                                </div>
                                <!-- <div id="dropdown" class="dropdown">
                                    <label for="recipient-name" class="col-form-label">Security:</label>
                                    <a class="btn dropdown-toggle text-dark border" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        WPA2_PSK
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                        <a class="dropdown-item" href="#">LoRa Server MAScIR</a>
                                        <a class="dropdown-item" href="#">other</a>
                                    </div>
                                </div> -->
                                <div class="form-group">
                                    <label for="recipient-name" class="col-form-label">PSK:</label>
                                    <div id="inputDiv" class="border-left border-5 rounded">
                                        <input name="password" type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                                    </div>
                                </div>

                                <div id="message" class="alert alert-danger" role="alert" style="display: none;">
                                    PSK required, needs to be at least 8 characters.
                                </div>
                                <div id="success-message" class="alert alert-success" role="alert" style="display: none;">
                                    Connected to Wi-Fi successfully
                                </div>
                                <div id="failure-message" class="alert alert-danger" role="alert" style="display: none;">
                                    Wi-Fi not connected
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer" id="modalBtns">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="connectWifi()">Connect</button>
                        </div>
                    </div>
                </div>
            </div>

            <link rel="stylesheet" href="/css/wifi.css">
            </body>

            </html>